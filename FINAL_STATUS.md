# ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π –°—Ç–∞—Ç—É—Å –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üéâ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| **Backend (8888)** | üü¢ –ó–∞–ø—É—â–µ–Ω |
| **Frontend (5173)** | üü¢ –†–∞–±–æ—Ç–∞–µ—Ç |
| **JWT –ø–∞—Ä—Å–∏–Ω–≥** | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω |
| **–†–æ–ª—å ENSEIGNANT** | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| **Autocomplete –∑–∞–ª–æ–≤** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

---

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ –í—Ö–æ–¥
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã
- ‚úÖ –†–æ–ª–∏: ADMIN, USER, ENSEIGNANT

### 2. üó∫Ô∏è –ö–∞—Ä—Ç–∞ –±—ç—Ç–∏–º–µ–Ω—Ç–æ–≤
- ‚úÖ OpenStreetMap
- ‚úÖ –í—Å–µ –∑–¥–∞–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ
- ‚úÖ Popup —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

### 3. üìè –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –í—ã–±–æ—Ä 2 –∑–¥–∞–Ω–∏–π –Ω–∞ –∫–∞—Ä—Ç–µ
- ‚úÖ –†–∞—Å—á–µ—Ç –ø–æ —Ñ–æ—Ä–º—É–ª–µ Haversine (SloppyMath)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–º –∏ –º–µ—Ç—Ä–∞—Ö
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è –º–µ–∂–¥—É –∑–¥–∞–Ω–∏—è–º–∏

### 4. üìö –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏–∏ –∑–∞–ª–∞
- ‚úÖ Autocomplete –¥–ª—è –≤—ã–±–æ—Ä–∞ –∑–∞–ª–∞
- ‚úÖ –°–ø–∏—Å–æ–∫ –º–æ–∏—Ö —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∑–∞–ª–∞ (—É–∂–µ –∑–∞–Ω—è—Ç)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –ø—Ä–µ–¥–º–µ—Ç–∞ (—É—á–∏—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ –æ–¥–∏–Ω –∫—É—Ä—Å –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö)
- ‚úÖ –í–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —É—á–∏—Ç–µ–ª–µ–π (—Ä–æ–ª—å ENSEIGNANT, USER, ADMIN)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend
```
Controllers:
‚îú‚îÄ‚îÄ AuthenticationController    - /auth/login, /auth/signup
‚îú‚îÄ‚îÄ DistanceController          - /distance/between, /distance/calculate
‚îî‚îÄ‚îÄ ReservationController       - /reservations (CRUD)

Repositories (Spring Data REST):
‚îú‚îÄ‚îÄ BatimentRepository          - /batiments
‚îî‚îÄ‚îÄ SalleRepository             - /salles

DTOs (Java Records):
‚îú‚îÄ‚îÄ BatimentInfo                - 9 —Å—Ç—Ä–æ–∫
‚îú‚îÄ‚îÄ DistanceInfo                - 10 —Å—Ç—Ä–æ–∫
‚îú‚îÄ‚îÄ DistanceResponse            - 9 —Å—Ç—Ä–æ–∫
‚îú‚îÄ‚îÄ ReservationRequest          - 10 —Å—Ç—Ä–æ–∫
‚îî‚îÄ‚îÄ ReservationResponse         - 12 —Å—Ç—Ä–æ–∫
```

### Frontend
```
Pages:
‚îú‚îÄ‚îÄ Home                        - –ö–∞—Ä—Ç–∞ —Å –±—ç—Ç–∏–º–µ–Ω—Ç–∞–º–∏ + –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
‚îú‚îÄ‚îÄ Lessons                     - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ª–æ–≤ (—Ç–æ–ª—å–∫–æ —É—á–∏—Ç–µ–ª—è)
‚îú‚îÄ‚îÄ Profile                     - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ Settings                    - –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ Login                       - –í—Ö–æ–¥
‚îî‚îÄ‚îÄ Register                    - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

Components:
‚îú‚îÄ‚îÄ Layout                      - –ù–∞–≤–∏–≥–∞—Ü–∏—è + AppBar + Footer
‚îî‚îÄ‚îÄ MapView                     - –ö–∞—Ä—Ç–∞ OpenStreetMap + –º–∞—Ä–∫–µ—Ä—ã

Services:
‚îú‚îÄ‚îÄ api.js                      - –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã
‚îî‚îÄ‚îÄ jwtUtils.js                 - –ü–∞—Ä—Å–∏–Ω–≥ JWT —Ç–æ–∫–µ–Ω–æ–≤
```

---

## üîß –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. JWT –ø–∞—Ä—Å–∏–Ω–≥ —Ä–æ–ª–∏
```javascript
// –¢–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç "ENSEIGNANT" –∏–∑ "ROLE_ENSEIGNANT"
const role = decoded.roles.replace('ROLE_', '');
```

### 2. –†–æ–ª—å ENSEIGNANT –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
```javascript
if (user?.role === 'USER' || user?.role === 'ADMIN' || user?.role === 'ENSEIGNANT') {
  // –ü–æ–∫–∞–∑–∞—Ç—å "Cours"
}
```

### 3. Autocomplete –∑–∞–ª–æ–≤
```javascript
<Autocomplete
  options={salles}
  getOptionKey={(option) => option.numS || extractSalleId(option)}
  freeSolo  // –ú–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –≤—Ä—É—á–Ω—É—é
/>
```

### 4. –ü–æ–∫–∞–∑ –í–°–ï–• —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è
```java
// –ë—ã–ª–æ: findUpcomingByEnseignant (—Ç–æ–ª—å–∫–æ –±—É–¥—É—â–∏–µ)
// –°—Ç–∞–ª–æ: findByEnseignant (–≤—Å–µ)
List<Reservation> reservations = reservationRepository.findByEnseignant(enseignant);
```

### 5. –£–¥–∞–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "Tableau de bord"
- –§–∞–π–ª Dashboard.jsx —É–¥–∞–ª–µ–Ω
- –£–±—Ä–∞–Ω–∞ –∏–∑ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –£–±—Ä–∞–Ω–∞ –∏–∑ —Ä–æ—É—Ç–æ–≤

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ —É–≤–∏–¥–∏—à—å:
```javascript
üîç –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JWT —Ç–æ–∫–µ–Ω: {
  sub: "email@example.com",
  roles: "ROLE_ENSEIGNANT",
  fullName: "Jean Dupont",
  ...
}
üîç –†–æ–ª—å –∏–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è: ENSEIGNANT
```

### 2. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é

–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –≤–∫–ª–∞–¥–∫–∏:
- üè† **Accueil** (–∫–∞—Ä—Ç–∞)
- üéì **Cours** (–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ) ‚Üê –í–∏–¥–Ω–∞ –¥–ª—è ENSEIGNANT!

### 3. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä–∞–Ω–∏—Ü—É "Cours"

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:
```javascript
üîç –†–µ–∑–µ—Ä–≤–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω—ã —Å –±—ç–∫–µ–Ω–¥–∞: [{...}, {...}, ...]
üîç –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è: 3  // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 1!
```

### 4. –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±—ç–∫–µ–Ω–¥–∞ (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)

–ü—Ä–∏ GET /mes-reservations —É–≤–∏–¥–∏—à—å:
```
üîç –ù–∞–π–¥–µ–Ω–æ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è –¥–ª—è —É—á–∏—Ç–µ–ª—è Jean Dupont: 3
  - ID: 1, Salle: 36.01, Mati√®re: Math√©matiques
  - ID: 2, Salle: 07.102, Mati√®re: Physique
  - ID: 3, Salle: 05.Dumoulin, Mati√®re: Informatique
üîç –í–æ–∑–≤—Ä–∞—â–∞–µ–º DTO: 3
```

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∞

### –°–æ–∑–¥–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è:

**–†–µ–∑–µ—Ä–≤–∞—Ü–∏—è 1:**
- Salle: `36.01`
- Mati√®re: `Math√©matiques`
- D√©but: `2025-12-05 10:00`
- Fin: `2025-12-05 12:00`

**–†–µ–∑–µ—Ä–≤–∞—Ü–∏—è 2:**
- Salle: `07.102`
- Mati√®re: `Physique`
- D√©but: `2025-12-05 14:00`
- Fin: `2025-12-05 16:00`

**–†–µ–∑–µ—Ä–≤–∞—Ü–∏—è 3:**
- Salle: `05.Dumoulin`
- Mati√®re: `Informatique`
- D√©but: `2025-12-06 09:00`
- Fin: `2025-12-06 11:00`

---

## üîç –ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—É—é —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—é:

### –ü—Ä–æ–≤–µ—Ä—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
üîç –†–µ–∑–µ—Ä–≤–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω—ã —Å –±—ç–∫–µ–Ω–¥–∞: [...]
üîç –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è: ???
```

**–ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ = 1:** –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (query –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ 1)  
**–ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ > 1:** –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥)

---

## üìù Debug —à–∞–≥–∏

### 1. –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)
–°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏:
- `üîç –†–µ–∑–µ—Ä–≤–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω—ã —Å –±—ç–∫–µ–Ω–¥–∞:`
- `üîç –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è:`

### 2. Network (F12 ‚Üí Network)
–ö–ª–∏–∫–Ω–∏ –Ω–∞ –∑–∞–ø—Ä–æ—Å `/mes-reservations` ‚Üí Preview:
```json
[
  {"id": 1, "salleNum": "36.01", ...},
  {"id": 2, "salleNum": "07.102", ...},
  {"id": 3, "salleNum": "05.Dumoulin", ...}
]
```

–°–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ?

### 3. –¢–µ—Ä–º–∏–Ω–∞–ª –±—ç–∫–µ–Ω–¥–∞
–ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, —É–≤–∏–¥–∏—à—å:
```
üîç –ù–∞–π–¥–µ–Ω–æ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è –¥–ª—è —É—á–∏—Ç–µ–ª—è ...: X
```

---

## üéØ –ü–æ–∫–∞–∂–∏ –º–Ω–µ:

1. **–ß—Ç–æ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
   - `üîç –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è: ???`

2. **–ß—Ç–æ –≤ Network ‚Üí /mes-reservations ‚Üí Preview:**
   - –°–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ?

3. **–ß—Ç–æ –≤–∏–¥–∏—à—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:**
   - –°–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è–º–∏?

---

**–ò —è —Å—Ä–∞–∑—É –Ω–∞–π–¥—É –≥–¥–µ –ø—Ä–æ–±–ª–µ–º–∞! üöÄ**

